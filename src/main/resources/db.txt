create table department (
    dept_code varchar2(20),
    dept_name varchar2(30)
    --CONSTRAINT dept_code_pk PRIMARY KEY(department_code)
);


create table sal_check (
    sal_ck_no number,
    emp_no number,
    sal_ck_year varchar2(20),
    sal_ck_month varchar2(20),
    sal_ck_check varchar2(20)
    --constraint pay_no_pk primary key(pay_check_no)
);

drop table employee_management;
create table employee_management(
    emp_no varchar2(10),
    emp_name varchar2(15),
    emp_telephone varchar2(30),
    emp_address varchar2(200),
    emp_address_number varchar2(20),
    emp_dept_code varchar2(20),
    emp_jumin varchar2(25),
    emp_gender varchar2(10),
    emp_join_date date,
    emp_retire_date date,
    emp_email varchar2(30),
    emp_position varchar2(30),
    emp_basic_pay number,
    emp_bank_name varchar2(50),
    emp_account_number varchar2(30),
    emp_picture varchar2(2000),
    emp_password varchar2(100)
    --CONSTRAINT emp_num_pk PRIMARY KEY(emp_num),
    --constraint emp_dept_fk FOREIGN KEY(department_code) REFERENCES department_table(department_code)
);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date) 
values('1','1','01000000000','suah@suah.koong','001','사장',sysdate);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date)
values('2','2','01000000000','suah@suah.koong','001','사장',sysdate);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date)
values('3','3','01000000000','suah@suah.koong','001','사장',sysdate);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date)
values('4','4','01000000000','suah@suah.koong','001','사장',sysdate);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date)
values('5','5','01000000000','suah@suah.koong','001','사장',sysdate);
insert into employee_management(emp_no,emp_name,emp_telephone,emp_email,emp_dept_code,emp_position,emp_join_date)
values('6','6','01000000000','suah@suah.koong','001','사장',sysdate);

select * from employee_management;
desc employee_management;
commit;
drop table commute_management;
create table commute_management(
    cmt_no number,
    cmt_emp_no varchar2(10),
    cmt_status varchar2(100),
    cmt_year number,
    cmt_month number,
    cmt_DAY number,
    cmt_hour number,
    cmt_minute number,
    cmt_second number
    --CONSTRAINT cmt_no_pk PRIMARY KEY(commute_no)
);
delete commute_management where cmt_day=23 and cmt_status='off';
commit;
select * 
    from commute_management 
    where cmt_no=
        (select min(cmt_no)
            from commute_management
            where  cmt_emp_no=1 and cmt_day=20 and cmt_status='on'
        ) or cmt_no =
            (select max(cmt_no)
                from commute_management
                where  cmt_emp_no=1 and cmt_day=20 and cmt_status='off'
            );
            
select * 
    from commute_management 
    where cmt_no in (
        select min(cmt_no) from commute_management
        group by cmt_emp_no, cmt_day, cmt_status
        having cmt_status='on'
    ) or cmt_no in (
        select max(cmt_no) from commute_management
        group by cmt_emp_no, cmt_day, cmt_status
        having cmt_status='off'
    ) order by cmt_no;
    
(select min(cmt_no) 
    from commute_management
    group by cmt_emp_no, cmt_day, cmt_status
    having cmt_status='on'
    );
desc commute_management;
select * from commute_management where rownum=1;
select * from commute_management;
update commute_management set cmt_no=0,cmt_emp_no=2 where cmt_no=0;
commit;
-- book

select * from book where book_name like '%b' ;
select * from book b, rental r where rent_startdate=(
    select max(rent_startdate) from book b, rental r where b.book_name = r.book_name and name)
select * from book ;

select max(sysdate) from dual; 


commit;

create table salary_management(
    sal_no number,
    emp_no varchar2(10),
    sal_total number,
    sal_real number,
    sal_income_tax number,
    sal_residence_tax number,
    sal_health_insurance number,
    sal_unemployment_insurance number,
    sal_nation_pension number,
    sal_basic_pay number,
    sal_bonus number,
    sal_food_pay number,
    --constraint pay_emp_fk FOREIGN KEY(emp_num) REFERENCES human_resource_management(emp_num)
);